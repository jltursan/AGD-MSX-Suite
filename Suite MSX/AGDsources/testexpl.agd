; Game-specific data and events code generated by the compiler ------------------

DEFINEWINDOW 1 1 22 30

DEFINEFONT      0 0 0 0 0 0 0 0
                0 48 48 48 48 0 48 0
                0 108 108 0 0 0 0 0
                0 108 254 108 108 254 108 0
                0 24 126 120 126 30 126 24
                0 230 236 24 48 110 206 0
                0 48 120 48 126 204 126 0
                0 24 48 0 0 0 0 0
                0 12 24 24 24 24 12 0
                0 96 48 48 48 48 96 0
                0 0 60 24 126 24 60 0
                0 0 24 24 126 24 24 0
                0 0 0 0 0 24 24 48
                0 0 0 0 126 0 0 0
                0 0 0 0 0 56 56 0
                0 0 6 12 24 48 96 0
                0 124 206 222 246 230 124 0
                0 56 120 24 24 24 126 0
                0 124 198 6 124 192 254 0
                0 124 198 28 6 198 124 0
                0 24 56 120 216 254 24 0
                0 254 192 252 6 198 124 0
                0 124 192 252 198 198 124 0
                0 254 6 12 24 48 48 0
                0 124 198 124 198 198 124 0
                0 124 198 198 126 6 124 0
                0 0 0 48 0 0 48 0
                0 0 48 0 0 48 48 96
                0 0 12 24 48 24 12 0
                0 0 0 126 0 126 0 0
                0 0 48 24 12 24 48 0
                0 124 198 12 24 0 24 0
                0 124 222 254 254 192 124 0
                0 124 198 198 254 198 198 0
                0 252 198 252 198 198 252 0
                0 124 198 192 192 198 124 0
                0 248 204 198 198 204 248 0
                0 254 192 252 192 192 254 0
                0 254 192 252 192 192 192 0
                0 124 198 192 222 198 124 0
                0 198 198 254 198 198 198 0
                0 126 24 24 24 24 126 0
                0 6 6 6 198 198 124 0
                0 204 216 240 216 204 198 0
                0 192 192 192 192 192 254 0
                0 198 238 254 198 198 198 0
                0 198 230 246 222 206 198 0
                0 124 198 198 198 198 124 0
                0 252 198 198 252 192 192 0
                0 124 198 198 246 222 124 0
                0 252 198 198 252 204 198 0
                0 124 192 124 6 198 124 0
                0 254 48 48 48 48 48 0
                0 198 198 198 198 198 124 0
                0 198 198 198 198 108 56 0
                0 198 198 198 198 254 108 0
                0 198 108 56 56 108 198 0
                0 134 204 120 48 48 48 0
                0 254 12 24 48 96 254 0
                0 30 24 24 24 24 30 0
                0 0 192 96 48 24 12 0
                0 240 48 48 48 48 240 0
                0 48 120 252 48 48 48 0
                0 0 0 0 0 0 0 255
                0 60 102 248 96 96 254 0
                0 0 120 12 124 204 124 0
                0 96 96 124 102 102 124 0
                0 0 60 96 96 96 60 0
                0 12 12 124 204 204 124 0
                0 0 120 204 248 192 124 0
                0 28 48 56 48 48 48 0
                0 0 124 204 204 124 12 120
                0 192 192 248 204 204 204 0
                0 48 0 112 48 48 120 0
                0 12 0 12 12 12 108 56
                0 96 120 112 112 120 108 0
                0 48 48 48 48 48 28 0
                0 0 248 252 252 252 252 0
                0 0 248 204 204 204 204 0
                0 0 120 204 204 204 120 0
                0 0 248 204 204 248 192 192
                0 0 124 204 204 124 12 14
                0 0 60 96 96 96 96 0
                0 0 120 192 120 12 248 0
                0 48 120 48 48 48 28 0
                0 0 204 204 204 204 120 0
                0 0 204 204 120 120 48 0
                0 0 204 252 252 252 120 0
                0 0 204 120 48 120 204 0
                0 0 204 204 204 124 12 120
                0 0 252 24 48 96 252 0
                0 30 24 112 24 24 30 0
                0 24 24 24 24 24 24 0
                0 240 48 28 48 48 240 0
                0 60 120 0 0 0 0 0
                124 198 187 227 227 187 198 124

MAP	WIDTH 3
	STARTSCREEN 0

	255,0,255
ENDMAP

DEFINEMESSAGES
	"EXPLOSION DEMO"

DEFINEBLOCK EMPTYBLOCK 0 0 0 0 0 0 0 0 $F1 $F1 $F1 $F1 $F1 $F1 $F1 $F1
DEFINEBLOCK WALLBLOCK  $FE,$FE,$FE,$00,$EF,$EF,$EF,$00,$8B,$8B,$6B,$1B,$8B,$8B,$6B,$1B	
DEFINEBLOCK EMPTYBLOCK 247,239,215,239,211,215,231,247,$18,$18,$18,$18,$18,$18,$18,$18
DEFINEBLOCK EMPTYBLOCK 239,247,235,247,203,235,231,239,$1B,$1B,$1B,$1B,$1B,$1B,$1B,$1B
DEFINEBLOCK DEADLYBLOCK 255,247,247,247,227,193,193,128,$1D,$1D,$1D,$1D,$1D,$1D,$1D,$1D
DEFINEBLOCK EMPTYBLOCK 247,227,193,128,227,227,227,227,$1E,$1E,$1E,$1E,$1E,$1E,$1E,$1E

DEFINESPRITE 4
	17,115,55,21,42,125,107,236,206,143,135,13,28,24,12,126,136,206,236,168,80,180,222,54,119,243,241,185,28,56,126,0	
	17,115,55,21,10,45,123,108,238,223,187,185,12,126,0,0,136,206,236,168,84,190,214,55,115,241,225,176,56,24,48,126
	17,115,55,21,10,45,123,108,238,207,143,157,56,28,126,0,136,206,236,168,84,190,214,55,115,241,225,176,56,24,48,126  
	17,115,55,21,42,125,107,236,206,143,135,13,28,24,12,126,136,206,236,168,80,180,222,54,119,251,221,157,48,126,0,0

DEFINESCREEN
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1
	1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
	1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
	1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
	1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
	1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
	1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
	1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
	1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
	1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
	1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
	1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
	1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
	1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,1
	1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1
	1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
	1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
	1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
	1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
	1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
	1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1

SPRITEPOSITION 0,0,3,88,128


; Object 0 static no pick
DEFINEOBJECT 0,136,51
		0,1,15,31,63,55,111,111,192,0,224,240,248,248,252,252
		111,111,111,111,55,63,31,15,252,252,252,252,248,248,240,224
		$F1,$F1,$41,$41,$41,$41,$41,$41
		$F1,$F1,$41,$41,$41,$41,$41,$41
		$41,$41,$41,$41,$41,$41,$41,$41
		$41,$41,$41,$41,$41,$41,$41,$41

; Object 1 static A
DEFINEOBJECT 0,136,99
		0,1,15,31,63,55,111,111,192,0,224,240,248,248,252,252
		111,111,111,111,55,63,31,15,252,252,252,252,248,248,240,224
		$F1,$F1,$41,$41,$41,$41,$41,$41
		$F1,$F1,$41,$41,$41,$41,$41,$41
		$41,$41,$41,$41,$41,$41,$41,$41
		$41,$41,$41,$41,$41,$41,$41,$41

; Object 2 static no pick
DEFINEOBJECT 0,136,147
		0,1,15,31,63,55,111,111,192,0,224,240,248,248,252,252
		111,111,111,111,55,63,31,15,252,252,252,252,248,248,240,224
		$F1,$F1,$41,$41,$41,$41,$41,$41
		$F1,$F1,$41,$41,$41,$41,$41,$41
		$41,$41,$41,$41,$41,$41,$41,$41
		$41,$41,$41,$41,$41,$41,$41,$41
		
; Object 3 pickup
DEFINEOBJECT 0,136,195
		0,1,15,31,63,55,111,111,192,0,224,240,248,248,252,252
		111,111,111,111,55,63,31,15,252,252,252,252,248,248,240,224
		$F1,$F1,$41,$41,$41,$41,$41,$41
		$F1,$F1,$41,$41,$41,$41,$41,$41
		$41,$41,$41,$41,$41,$41,$41,$41
		$41,$41,$41,$41,$41,$41,$41,$41

EVENT PLAYER
 LET M = 0
 IF KEY UP
  LET M = 1
  IF CANGOUP
   SPRITEUP
  ENDIF
 ENDIF
 IF KEY DOWN
  LET M = 1
  IF CANGODOWN
   SPRITEDOWN
  ENDIF
 ENDIF
 IF KEY LEFT
  LET M = 1
  IF CANGOLEFT
   SPRITELEFT
  ENDIF
 ENDIF
 IF KEY RIGHT
  LET M = 1
  IF CANGORIGHT
   SPRITERIGHT
  ENDIF
 ENDIF
 IF M > 0
  ANIMATE MEDIUM
 ENDIF
 ; SPRITEINK 7

 DETECTOBJ

; Test picking up object
 IF OBJ =0
   GET OBJ
   EXPLODE 25
   AT 16,7
   PUTBLOCK 0
   LET A=1
 ENDIF
 IF OBJ =1
   GET OBJ
   EXPLODE 25
   AT 16,13
   PUTBLOCK 0
   LET B=1
 ENDIF
 IF OBJ =2
   GET OBJ
   EXPLODE 25
   AT 16,19
   PUTBLOCK 0
   LET C=1
 ENDIF
 IF OBJ =3
   GET OBJ
   EXPLODE 25
   AT 16,25
   PUTBLOCK 0
   LET D=1
 ENDIF

 IF E=1
  IF DEADLY
   REMOVE
   EXPLODE 25
  ENDIF
 ENDIF

EVENT SPRITETYPE1

EVENT SPRITETYPE2

EVENT SPRITETYPE3

EVENT SPRITETYPE4

EVENT SPRITETYPE5

EVENT SPRITETYPE6

EVENT SPRITETYPE7

EVENT SPRITETYPE8

EVENT INITSPRITE

EVENT MAINLOOP1
 ADD 1 TO T
 IF T=5
  IF F=2
   IF A=0
    AT 16,7
    PUTBLOCK 3
   ENDIF
   IF B=0
    AT 16,13
    PUTBLOCK 3
   ENDIF
   IF C=0
    AT 16,19
    PUTBLOCK 3
   ENDIF
   IF D=0
    AT 16,25
    PUTBLOCK 3
   ENDIF
   IF E=1
    AT 16,16
    PUTBLOCK 0
   ENDIF
   LET F=3
  ELSE
   IF A=0
    AT 16,7
    PUTBLOCK 2
   ENDIF
   IF B=0
    AT 16,13
    PUTBLOCK 2
   ENDIF
   IF C=0
    AT 16,19
    PUTBLOCK 2
   ENDIF
   IF D=0
    AT 16,25
    PUTBLOCK 2
   ENDIF
   IF E=1
    AT 16,16
    PUTBLOCK 5
   ENDIF
   LET F=2
  ENDIF
  IF A=1
   IF B=1
    IF C=1
     IF D=1
      LET E=1
     ENDIF
    ENDIF
   ENDIF
  ENDIF
  LET T=0
 ENDIF
 
EVENT MAINLOOP2

EVENT INTROMENU

EVENT GAMEINIT

EVENT RESTARTSCREEN
	COLOUR $1E
 CLS
 PRINTMODE 0
 LET LINE = 0
 LET COLUMN = 9
 PRINT "EXPLOSION DEMO"
 LET LINE = 23
 LET COLUMN = 5
 PRINT "HIT OBJECT TO EXPLODE"
 LET F=2
 LET T=0
 LET A=0
 LET B=0
 LET C=0
 LET D=0
 LET E=0
 LET LIVES=1

EVENT FELLTOOFAR

EVENT KILLPLAYER

EVENT LOSTGAME

EVENT COMPLETEDGAME

EVENT NEWHIGHSCORE

EVENT COLLECTBLOCK
